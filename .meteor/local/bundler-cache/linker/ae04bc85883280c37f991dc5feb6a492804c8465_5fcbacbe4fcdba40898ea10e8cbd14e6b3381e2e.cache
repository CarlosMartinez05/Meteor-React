[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar Tracker = Package.tracker.Tracker;\nvar Deps = Package.tracker.Deps;\nvar meteorInstall = Package.modules.meteorInstall;\nvar meteorBabelHelpers = Package.modules.meteorBabelHelpers;\nvar Promise = Package.promise.Promise;\nvar Symbol = Package['ecmascript-runtime-client'].Symbol;\nvar Map = Package['ecmascript-runtime-client'].Map;\nvar Set = Package['ecmascript-runtime-client'].Set;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"react-meteor-data\":{\"index.js\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/react-meteor-data/index.js                                                                                //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nmodule.link(\"./useTracker\", {\n  \"default\": \"useTracker\"\n}, 1);\nmodule.link(\"./withTracker.tsx\", {\n  \"default\": \"withTracker\"\n}, 2);\nmodule.link(\"./useFind\", {\n  useFind: \"useFind\"\n}, 3);\nmodule.link(\"./useSubscribe\", {\n  useSubscribe: \"useSubscribe\"\n}, 4);\n\nif (Meteor.isDevelopment) {\n  var v = React.version.split('.');\n\n  if (v[0] < 16 || v[0] == 16 && v[1] < 8) {\n    console.warn('react-meteor-data 2.x requires React version >= 16.8.');\n  }\n}\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"useFind.ts\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/react-meteor-data/useFind.ts                                                                              //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\nvar _typeof;\n\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\n\nvar _toConsumableArray;\n\nmodule.link(\"@babel/runtime/helpers/toConsumableArray\", {\n  default: function (v) {\n    _toConsumableArray = v;\n  }\n}, 2);\nmodule.export({\n  useFind: function () {\n    return useFind;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 1);\nvar useReducer, useMemo, useEffect, useRef;\nmodule.link(\"react\", {\n  useReducer: function (v) {\n    useReducer = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useRef: function (v) {\n    useRef = v;\n  }\n}, 2);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 3);\n\nvar useFindReducer = function (data, action) {\n  switch (action.type) {\n    case 'refresh':\n      return action.data;\n\n    case 'addedAt':\n      return [].concat(_toConsumableArray(data.slice(0, action.atIndex)), [action.document], _toConsumableArray(data.slice(action.atIndex)));\n\n    case 'changedAt':\n      return [].concat(_toConsumableArray(data.slice(0, action.atIndex)), [action.document], _toConsumableArray(data.slice(action.atIndex + 1)));\n\n    case 'removedAt':\n      return [].concat(_toConsumableArray(data.slice(0, action.atIndex)), _toConsumableArray(data.slice(action.atIndex + 1)));\n\n    case 'movedTo':\n      var doc = data[action.fromIndex];\n      var copy = [].concat(_toConsumableArray(data.slice(0, action.fromIndex)), _toConsumableArray(data.slice(action.fromIndex + 1)));\n      copy.splice(action.toIndex, 0, doc);\n      return copy;\n  }\n}; // Check for valid Cursor or null.\n// On client, we should have a Mongo.Cursor (defined in\n// https://github.com/meteor/meteor/blob/devel/packages/minimongo/cursor.js and\n// https://github.com/meteor/meteor/blob/devel/packages/mongo/collection.js).\n// On server, however, we instead get a private Cursor type from\n// https://github.com/meteor/meteor/blob/devel/packages/mongo/mongo_driver.js\n// which has fields _mongo and _cursorDescription.\n\n\nvar checkCursor = function (cursor) {\n  if (cursor !== null && cursor !== undefined && !(cursor instanceof Mongo.Cursor) && !(cursor._mongo && cursor._cursorDescription)) {\n    console.warn('Warning: useFind requires an instance of Mongo.Cursor. ' + 'Make sure you do NOT call .fetch() on your cursor.');\n  }\n}; // Synchronous data fetch. It uses cursor observing instead of cursor.fetch() because synchronous fetch will be deprecated.\n\n\nvar fetchData = function (cursor) {\n  var data = [];\n  var observer = cursor.observe({\n    addedAt: function (document, atIndex, before) {\n      data.splice(atIndex, 0, document);\n    }\n  });\n  observer.stop();\n  return data;\n};\n\nvar useFindClient = function (factory) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var cursor = useMemo(function () {\n    // To avoid creating side effects in render, opt out\n    // of Tracker integration altogether.\n    var cursor = Tracker.nonreactive(factory);\n\n    if (Meteor.isDevelopment) {\n      checkCursor(cursor);\n    }\n\n    return cursor;\n  }, deps);\n\n  var _useReducer = useReducer(useFindReducer, null, function () {\n    if (!(cursor instanceof Mongo.Cursor)) {\n      return [];\n    }\n\n    return fetchData(cursor);\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      data = _useReducer2[0],\n      dispatch = _useReducer2[1]; // Store information about mounting the component.\n  // It will be used to run code only if the component is updated.\n\n\n  var didMount = useRef(false);\n  useEffect(function () {\n    if (!(cursor instanceof Mongo.Cursor)) {\n      return;\n    } // Fetch intitial data if cursor was changed.\n\n\n    if (didMount.current) {\n      var _data = fetchData(cursor);\n\n      dispatch({\n        type: 'refresh',\n        data: _data\n      });\n    } else {\n      didMount.current = true;\n    }\n\n    var observer = cursor.observe({\n      addedAt: function (document, atIndex, before) {\n        dispatch({\n          type: 'addedAt',\n          document: document,\n          atIndex: atIndex\n        });\n      },\n      changedAt: function (newDocument, oldDocument, atIndex) {\n        dispatch({\n          type: 'changedAt',\n          document: newDocument,\n          atIndex: atIndex\n        });\n      },\n      removedAt: function (oldDocument, atIndex) {\n        dispatch({\n          type: 'removedAt',\n          atIndex: atIndex\n        });\n      },\n      movedTo: function (document, fromIndex, toIndex, before) {\n        dispatch({\n          type: 'movedTo',\n          fromIndex: fromIndex,\n          toIndex: toIndex\n        });\n      },\n      // @ts-ignore\n      _suppress_initial: true\n    });\n    return function () {\n      observer.stop();\n    };\n  }, [cursor]);\n  return data;\n};\n\nvar useFindServer = function (factory, deps) {\n  return Tracker.nonreactive(function () {\n    var _cursor$fetch, _cursor$fetch2;\n\n    var cursor = factory();\n    if (Meteor.isDevelopment) checkCursor(cursor);\n    return (_cursor$fetch = cursor === null || cursor === void 0 ? void 0 : (_cursor$fetch2 = cursor.fetch) === null || _cursor$fetch2 === void 0 ? void 0 : _cursor$fetch2.call(cursor)) !== null && _cursor$fetch !== void 0 ? _cursor$fetch : null;\n  });\n};\n\nvar useFind = Meteor.isServer ? useFindServer : useFindClient;\n\nfunction useFindDev(factory) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  function warn(expects, pos, arg, type) {\n    console.warn(\"Warning: useFind expected a \" + expects + \" in it's \" + pos + \" argument \" + (\"(\" + arg + \"), but got type of `\" + type + \"`.\"));\n  }\n\n  if (typeof factory !== 'function') {\n    warn(\"function\", \"1st\", \"reactiveFn\", factory);\n  }\n\n  if (!deps || !Array.isArray(deps)) {\n    warn(\"array\", \"2nd\", \"deps\", _typeof(deps));\n  }\n\n  return useFind(factory, deps);\n}\n\nmodule.exportDefault(Meteor.isDevelopment ? useFindDev : useFind);\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"useSubscribe.ts\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/react-meteor-data/useSubscribe.ts                                                                         //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\nmodule.export({\n  useSubscribe: function () {\n    return useSubscribe;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar useTracker;\nmodule.link(\"./useTracker\", {\n  \"default\": function (v) {\n    useTracker = v;\n  }\n}, 1);\n\nvar useSubscribeClient = function (name) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  var updateOnReady = false;\n  var subscription;\n  var isReady = useTracker(function () {\n    var _Meteor;\n\n    if (!name) return true;\n    subscription = (_Meteor = Meteor).subscribe.apply(_Meteor, [name].concat(args));\n    return subscription.ready();\n  }, function () {\n    return !updateOnReady;\n  });\n  return function () {\n    updateOnReady = true;\n    return !isReady;\n  };\n};\n\nvar useSubscribeServer = function (name) {\n  return function () {\n    return false;\n  };\n};\n\nvar useSubscribe = Meteor.isServer ? useSubscribeServer : useSubscribeClient;\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"useTracker.ts\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/react-meteor-data/useTracker.ts                                                                           //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\nvar _typeof;\n\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 1);\nvar useReducer, useEffect, useRef, useMemo;\nmodule.link(\"react\", {\n  useReducer: function (v) {\n    useReducer = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useRef: function (v) {\n    useRef = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 2);\n\n// Warns if data is a Mongo.Cursor or a POJO containing a Mongo.Cursor.\nfunction checkCursor(data) {\n  var shouldWarn = false;\n\n  if (Package.mongo && Package.mongo.Mongo && data && _typeof(data) === 'object') {\n    if (data instanceof Package.mongo.Mongo.Cursor) {\n      shouldWarn = true;\n    } else if (Object.getPrototypeOf(data) === Object.prototype) {\n      Object.keys(data).forEach(function (key) {\n        if (data[key] instanceof Package.mongo.Mongo.Cursor) {\n          shouldWarn = true;\n        }\n      });\n    }\n  }\n\n  if (shouldWarn) {\n    console.warn('Warning: your reactive function is returning a Mongo cursor. ' + 'This value will not be reactive. You probably want to call ' + '`.fetch()` on the cursor before returning it.');\n  }\n} // Used to create a forceUpdate from useReducer. Forces update by\n// incrementing a number whenever the dispatch method is invoked.\n\n\nvar fur = function (x) {\n  return x + 1;\n};\n\nvar useForceUpdate = function () {\n  return useReducer(fur, 0)[1];\n};\n\nvar useTrackerNoDeps = function (reactiveFn) {\n  var skipUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  var _useRef = useRef({\n    isMounted: false,\n    trackerData: null\n  }),\n      refs = _useRef.current;\n\n  var forceUpdate = useForceUpdate(); // Without deps, always dispose and recreate the computation with every render.\n\n  if (refs.computation) {\n    refs.computation.stop(); // @ts-ignore This makes TS think ref.computation is \"never\" set\n\n    delete refs.computation;\n  } // Use Tracker.nonreactive in case we are inside a Tracker Computation.\n  // This can happen if someone calls `ReactDOM.render` inside a Computation.\n  // In that case, we want to opt out of the normal behavior of nested\n  // Computations, where if the outer one is invalidated or stopped,\n  // it stops the inner one.\n\n\n  Tracker.nonreactive(function () {\n    return Tracker.autorun(function (c) {\n      refs.computation = c;\n      var data = reactiveFn(c);\n\n      if (c.firstRun) {\n        // Always run the reactiveFn on firstRun\n        refs.trackerData = data;\n      } else if (!skipUpdate || !skipUpdate(refs.trackerData, data)) {\n        // For any reactive change, forceUpdate and let the next render rebuild the computation.\n        forceUpdate();\n      }\n    });\n  }); // To clean up side effects in render, stop the computation immediately\n\n  if (!refs.isMounted) {\n    Meteor.defer(function () {\n      if (!refs.isMounted && refs.computation) {\n        refs.computation.stop();\n        delete refs.computation;\n      }\n    });\n  }\n\n  useEffect(function () {\n    // Let subsequent renders know we are mounted (render is committed).\n    refs.isMounted = true; // In some cases, the useEffect hook will run before Meteor.defer, such as\n    // when React.lazy is used. In those cases, we might as well leave the\n    // computation alone!\n\n    if (!refs.computation) {\n      // Render is committed, but we no longer have a computation. Invoke\n      // forceUpdate and let the next render recreate the computation.\n      if (!skipUpdate) {\n        forceUpdate();\n      } else {\n        Tracker.nonreactive(function () {\n          return Tracker.autorun(function (c) {\n            var data = reactiveFn(c);\n            refs.computation = c;\n\n            if (!skipUpdate(refs.trackerData, data)) {\n              // For any reactive change, forceUpdate and let the next render rebuild the computation.\n              forceUpdate();\n            }\n          });\n        });\n      }\n    } // stop the computation on unmount\n\n\n    return function () {\n      var _refs$computation;\n\n      (_refs$computation = refs.computation) === null || _refs$computation === void 0 ? void 0 : _refs$computation.stop();\n      delete refs.computation;\n      refs.isMounted = false;\n    };\n  }, []);\n  return refs.trackerData;\n};\n\nvar useTrackerWithDeps = function (reactiveFn, deps) {\n  var skipUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var forceUpdate = useForceUpdate();\n\n  var _useRef2 = useRef({\n    reactiveFn: reactiveFn\n  }),\n      refs = _useRef2.current; // keep reactiveFn ref fresh\n\n\n  refs.reactiveFn = reactiveFn;\n  useMemo(function () {\n    // To jive with the lifecycle interplay between Tracker/Subscribe, run the\n    // reactive function in a computation, then stop it, to force flush cycle.\n    var comp = Tracker.nonreactive(function () {\n      return Tracker.autorun(function (c) {\n        var data = refs.reactiveFn();\n\n        if (c.firstRun) {\n          refs.data = data;\n        } else if (!skipUpdate || !skipUpdate(refs.data, data)) {\n          refs.data = data;\n          forceUpdate();\n        }\n      });\n    }); // In some cases, the useEffect hook will run before Meteor.defer, such as\n    // when React.lazy is used. This will allow it to be stopped earlier in\n    // useEffect if needed.\n\n    refs.comp = comp; // To avoid creating side effects in render, stop the computation immediately\n\n    Meteor.defer(function () {\n      if (!refs.isMounted && refs.comp) {\n        refs.comp.stop();\n        delete refs.comp;\n      }\n    });\n  }, deps);\n  useEffect(function () {\n    // Let subsequent renders know we are mounted (render is committed).\n    refs.isMounted = true;\n\n    if (!refs.comp) {\n      refs.comp = Tracker.nonreactive(function () {\n        return Tracker.autorun(function (c) {\n          var data = refs.reactiveFn(c);\n\n          if (!skipUpdate || !skipUpdate(refs.data, data)) {\n            refs.data = data;\n            forceUpdate();\n          }\n        });\n      });\n    }\n\n    return function () {\n      refs.comp.stop();\n      delete refs.comp;\n      refs.isMounted = false;\n    };\n  }, deps);\n  return refs.data;\n};\n\nfunction useTrackerClient(reactiveFn) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var skipUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  if (deps === null || deps === undefined || !Array.isArray(deps)) {\n    if (typeof deps === \"function\") {\n      skipUpdate = deps;\n    }\n\n    return useTrackerNoDeps(reactiveFn, skipUpdate);\n  } else {\n    return useTrackerWithDeps(reactiveFn, deps, skipUpdate);\n  }\n}\n\nvar useTrackerServer = function (reactiveFn) {\n  return Tracker.nonreactive(reactiveFn);\n}; // When rendering on the server, we don't want to use the Tracker.\n// We only do the first rendering on the server so we can get the data right away\n\n\nvar useTracker = Meteor.isServer ? useTrackerServer : useTrackerClient;\n\nfunction useTrackerDev(reactiveFn) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var skipUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  function warn(expects, pos, arg, type) {\n    console.warn(\"Warning: useTracker expected a \" + expects + \" in it's \" + pos + \" argument \" + (\"(\" + arg + \"), but got type of `\" + type + \"`.\"));\n  }\n\n  if (typeof reactiveFn !== 'function') {\n    warn(\"function\", \"1st\", \"reactiveFn\", reactiveFn);\n  }\n\n  if (deps && skipUpdate && !Array.isArray(deps) && typeof skipUpdate === \"function\") {\n    warn(\"array & function\", \"2nd and 3rd\", \"deps, skipUpdate\", _typeof(deps) + \" & \" + _typeof(skipUpdate));\n  } else {\n    if (deps && !Array.isArray(deps) && typeof deps !== \"function\") {\n      warn(\"array or function\", \"2nd\", \"deps or skipUpdate\", _typeof(deps));\n    }\n\n    if (skipUpdate && typeof skipUpdate !== \"function\") {\n      warn(\"function\", \"3rd\", \"skipUpdate\", _typeof(skipUpdate));\n    }\n  }\n\n  var data = useTracker(reactiveFn, deps, skipUpdate);\n  checkCursor(data);\n  return data;\n}\n\nmodule.exportDefault(Meteor.isDevelopment ? useTrackerDev : useTracker);\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"withTracker.tsx\":function module(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/react-meteor-data/withTracker.tsx                                                                         //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\nvar _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nmodule.export({\n  \"default\": function () {\n    return withTracker;\n  }\n});\nvar React, forwardRef, memo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  forwardRef: function (v) {\n    forwardRef = v;\n  },\n  memo: function (v) {\n    memo = v;\n  }\n}, 0);\nvar useTracker;\nmodule.link(\"./useTracker\", {\n  \"default\": function (v) {\n    useTracker = v;\n  }\n}, 1);\n\nfunction withTracker(options) {\n  return function (Component) {\n    var getMeteorData = typeof options === 'function' ? options : options.getMeteorData;\n    var WithTracker = /*#__PURE__*/forwardRef(function (props, ref) {\n      var data = useTracker(function () {\n        return getMeteorData(props) || {};\n      }, options.skipUpdate);\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        ref: ref\n      }, props, data));\n    });\n    var _options$pure = options.pure,\n        pure = _options$pure === void 0 ? true : _options$pure;\n    return pure ? /*#__PURE__*/memo(WithTracker) : WithTracker;\n  };\n}\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".ts\",\n    \".tsx\"\n  ]\n});\n\n\n/* Exports */\nPackage._define(\"react-meteor-data\");\n\n})();\n","servePath":"/packages/react-meteor-data.js","sourceMap":{"version":3,"sources":["packages/react-meteor-data/index.js","packages/react-meteor-data/useFind.ts","packages/react-meteor-data/useSubscribe.ts","packages/react-meteor-data/useTracker.ts","packages/react-meteor-data/withTracker.tsx"],"names":["React","module","link","v","useFind","useSubscribe","Meteor","isDevelopment","version","split","console","warn","default","_typeof","_slicedToArray","_toConsumableArray","export","Mongo","useReducer","useMemo","useEffect","useRef","Tracker","useFindReducer","data","action","type","slice","atIndex","document","doc","fromIndex","copy","splice","toIndex","checkCursor","cursor","undefined","Cursor","_mongo","_cursorDescription","fetchData","observer","observe","addedAt","before","stop","useFindClient","factory","deps","nonreactive","dispatch","didMount","current","changedAt","newDocument","oldDocument","removedAt","movedTo","_suppress_initial","useFindServer","fetch","isServer","useFindDev","expects","pos","arg","Array","isArray","exportDefault","useTracker","useSubscribeClient","name","args","updateOnReady","subscription","isReady","subscribe","ready","useSubscribeServer","shouldWarn","Package","mongo","Object","getPrototypeOf","prototype","keys","forEach","key","fur","x","useForceUpdate","useTrackerNoDeps","reactiveFn","skipUpdate","isMounted","trackerData","refs","forceUpdate","computation","autorun","c","firstRun","defer","useTrackerWithDeps","comp","useTrackerClient","useTrackerServer","useTrackerDev","_extends","withTracker","forwardRef","memo","options","Component","getMeteorData","WithTracker","props","ref","pure"],"mappings":"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","file":"/packages/react-meteor-data.js","sourcesContent":["/* global Meteor*/\nimport React from 'react';\n\nif (Meteor.isDevelopment) {\n  const v = React.version.split('.');\n  if (v[0] < 16 || (v[0] == 16 && v[1] < 8)) {\n    console.warn('react-meteor-data 2.x requires React version >= 16.8.');\n  }\n}\n\nexport { default as useTracker } from './useTracker';\nexport { default as withTracker } from './withTracker.tsx';\nexport { useFind } from './useFind';\nexport { useSubscribe } from './useSubscribe';\n","import { Meteor } from 'meteor/meteor'\nimport { Mongo } from 'meteor/mongo'\nimport { useReducer, useMemo, useEffect, Reducer, DependencyList, useRef } from 'react'\nimport { Tracker } from 'meteor/tracker'\n\ntype useFindActions<T> =\n  | { type: 'refresh', data: T[] }\n  | { type: 'addedAt', document: T, atIndex: number }\n  | { type: 'changedAt', document: T, atIndex: number }\n  | { type: 'removedAt', atIndex: number }\n  | { type: 'movedTo', fromIndex: number, toIndex: number }\n\nconst useFindReducer = <T>(data: T[], action: useFindActions<T>): T[] => {\n  switch (action.type) {\n    case 'refresh':\n      return action.data\n    case 'addedAt':\n      return [\n        ...data.slice(0, action.atIndex),\n        action.document,\n        ...data.slice(action.atIndex)\n      ]\n    case 'changedAt':\n      return [\n        ...data.slice(0, action.atIndex),\n        action.document,\n        ...data.slice(action.atIndex + 1)\n      ]\n    case 'removedAt':\n      return [\n        ...data.slice(0, action.atIndex),\n        ...data.slice(action.atIndex + 1)\n      ]\n    case 'movedTo':\n      const doc = data[action.fromIndex]\n      const copy = [\n        ...data.slice(0, action.fromIndex),\n        ...data.slice(action.fromIndex + 1)\n      ]\n      copy.splice(action.toIndex, 0, doc)\n      return copy\n  }\n}\n\n// Check for valid Cursor or null.\n// On client, we should have a Mongo.Cursor (defined in\n// https://github.com/meteor/meteor/blob/devel/packages/minimongo/cursor.js and\n// https://github.com/meteor/meteor/blob/devel/packages/mongo/collection.js).\n// On server, however, we instead get a private Cursor type from\n// https://github.com/meteor/meteor/blob/devel/packages/mongo/mongo_driver.js\n// which has fields _mongo and _cursorDescription.\nconst checkCursor = <T>(cursor: Mongo.Cursor<T> | Partial<{ _mongo: any, _cursorDescription: any }> | undefined | null) => {\n  if (cursor !== null && cursor !== undefined && !(cursor instanceof Mongo.Cursor) &&\n      !(cursor._mongo && cursor._cursorDescription)) {\n    console.warn(\n      'Warning: useFind requires an instance of Mongo.Cursor. '\n      + 'Make sure you do NOT call .fetch() on your cursor.'\n    );\n  }\n}\n\n// Synchronous data fetch. It uses cursor observing instead of cursor.fetch() because synchronous fetch will be deprecated.\nconst fetchData = <T>(cursor: Mongo.Cursor<T>) => {\n  const data: T[] = []\n  const observer = cursor.observe({\n    addedAt (document, atIndex, before) {\n      data.splice(atIndex, 0, document)\n    },\n  })\n  observer.stop()\n  return data\n}\n\nconst useFindClient = <T = any>(factory: () => (Mongo.Cursor<T> | undefined | null), deps: DependencyList = []) => {\n  const cursor = useMemo(() => {\n    // To avoid creating side effects in render, opt out\n    // of Tracker integration altogether.\n    const cursor = Tracker.nonreactive(factory);\n    if (Meteor.isDevelopment) {\n      checkCursor(cursor)\n    }\n    return cursor\n  }, deps)\n\n  const [data, dispatch] = useReducer<Reducer<T[], useFindActions<T>>, null>(\n    useFindReducer,\n    null,\n    () => {\n      if (!(cursor instanceof Mongo.Cursor)) {\n        return []\n      }\n\n      return fetchData(cursor)\n    }\n  )\n\n  // Store information about mounting the component.\n  // It will be used to run code only if the component is updated.\n  const didMount = useRef(false)\n\n  useEffect(() => {\n    if (!(cursor instanceof Mongo.Cursor)) {\n      return\n    }\n\n    // Fetch intitial data if cursor was changed.\n    if (didMount.current) {\n      const data = fetchData(cursor)\n      dispatch({ type: 'refresh', data })\n    } else {\n      didMount.current = true\n    }\n\n    const observer = cursor.observe({\n      addedAt (document, atIndex, before) {\n        dispatch({ type: 'addedAt', document, atIndex })\n      },\n      changedAt (newDocument, oldDocument, atIndex) {\n        dispatch({ type: 'changedAt', document: newDocument, atIndex })\n      },\n      removedAt (oldDocument, atIndex) {\n        dispatch({ type: 'removedAt', atIndex })\n      },\n      movedTo (document, fromIndex, toIndex, before) {\n        dispatch({ type: 'movedTo', fromIndex, toIndex })\n      },\n      // @ts-ignore\n      _suppress_initial: true\n    })\n\n    return () => {\n      observer.stop()\n    }\n  }, [cursor])\n\n  return data\n}\n\nconst useFindServer = <T = any>(factory: () => Mongo.Cursor<T> | undefined | null, deps: DependencyList) => (\n  Tracker.nonreactive(() => {\n    const cursor = factory()\n    if (Meteor.isDevelopment) checkCursor(cursor)\n    return cursor?.fetch?.() ?? null\n  })\n)\n\nexport const useFind = Meteor.isServer\n  ? useFindServer\n  : useFindClient\n\nfunction useFindDev <T = any>(factory: () => (Mongo.Cursor<T> | undefined | null), deps: DependencyList = []) {\n  function warn (expects: string, pos: string, arg: string, type: string) {\n    console.warn(\n      `Warning: useFind expected a ${expects} in it\\'s ${pos} argument `\n        + `(${arg}), but got type of \\`${type}\\`.`\n    );\n  }\n\n  if (typeof factory !== 'function') {\n    warn(\"function\", \"1st\", \"reactiveFn\", factory);\n  }\n\n  if (!deps || !Array.isArray(deps)) {\n    warn(\"array\", \"2nd\", \"deps\", typeof deps);\n  }\n\n  return useFind(factory, deps);\n}\n\nexport default Meteor.isDevelopment\n  ? useFindDev\n  : useFind;\n","import { Meteor } from 'meteor/meteor'\nimport useTracker from './useTracker'\n\nconst useSubscribeClient = (name?: string, ...args: any[]): () => boolean => {\n  let updateOnReady = false\n  let subscription: Meteor.SubscriptionHandle\n\n  const isReady = useTracker(() => {\n    if (!name) return true\n\n    subscription = Meteor.subscribe(name, ...args)\n\n    return subscription.ready()\n  }, () => (!updateOnReady))\n\n  return () => {\n    updateOnReady = true\n    return !isReady\n  }\n}\n\nconst useSubscribeServer = (name?: string, ...args: any[]): () => boolean => (\n  () => false\n)\n\nexport const useSubscribe = Meteor.isServer\n  ? useSubscribeServer\n  : useSubscribeClient\n","declare var Package: any\nimport { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\nimport { useReducer, useEffect, useRef, useMemo, DependencyList } from 'react';\n\n// Warns if data is a Mongo.Cursor or a POJO containing a Mongo.Cursor.\nfunction checkCursor (data: any): void {\n  let shouldWarn = false;\n  if (Package.mongo && Package.mongo.Mongo && data && typeof data === 'object') {\n    if (data instanceof Package.mongo.Mongo.Cursor) {\n      shouldWarn = true;\n    } else if (Object.getPrototypeOf(data) === Object.prototype) {\n      Object.keys(data).forEach((key) => {\n        if (data[key] instanceof Package.mongo.Mongo.Cursor) {\n          shouldWarn = true;\n        }\n      });\n    }\n  }\n  if (shouldWarn) {\n    console.warn(\n      'Warning: your reactive function is returning a Mongo cursor. '\n      + 'This value will not be reactive. You probably want to call '\n      + '`.fetch()` on the cursor before returning it.'\n    );\n  }\n}\n\n// Used to create a forceUpdate from useReducer. Forces update by\n// incrementing a number whenever the dispatch method is invoked.\nconst fur = (x: number): number => x + 1;\nconst useForceUpdate = () => useReducer(fur, 0)[1];\n\nexport interface IReactiveFn<T> {\n  (c?: Tracker.Computation): T\n}\n\nexport interface ISkipUpdate<T> {\n  <T>(prev: T, next: T): boolean\n}\n\ntype TrackerRefs = {\n  computation?: Tracker.Computation;\n  isMounted: boolean;\n  trackerData: any;\n}\n\nconst useTrackerNoDeps = <T = any>(reactiveFn: IReactiveFn<T>, skipUpdate: ISkipUpdate<T> = null) => {\n  const { current: refs } = useRef<TrackerRefs>({\n    isMounted: false,\n    trackerData: null\n  });\n  const forceUpdate = useForceUpdate();\n\n  // Without deps, always dispose and recreate the computation with every render.\n  if (refs.computation) {\n    refs.computation.stop();\n    // @ts-ignore This makes TS think ref.computation is \"never\" set\n    delete refs.computation;\n  }\n\n  // Use Tracker.nonreactive in case we are inside a Tracker Computation.\n  // This can happen if someone calls `ReactDOM.render` inside a Computation.\n  // In that case, we want to opt out of the normal behavior of nested\n  // Computations, where if the outer one is invalidated or stopped,\n  // it stops the inner one.\n  Tracker.nonreactive(() => Tracker.autorun((c: Tracker.Computation) => {\n    refs.computation = c;\n    const data = reactiveFn(c);\n    if (c.firstRun) {\n      // Always run the reactiveFn on firstRun\n      refs.trackerData = data;\n    } else if (!skipUpdate || !skipUpdate(refs.trackerData, data)) {\n      // For any reactive change, forceUpdate and let the next render rebuild the computation.\n      forceUpdate();\n    }\n  }));\n\n  // To clean up side effects in render, stop the computation immediately\n  if (!refs.isMounted) {\n    Meteor.defer(() => {\n      if (!refs.isMounted && refs.computation) {\n        refs.computation.stop();\n        delete refs.computation;\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Let subsequent renders know we are mounted (render is committed).\n    refs.isMounted = true;\n\n    // In some cases, the useEffect hook will run before Meteor.defer, such as\n    // when React.lazy is used. In those cases, we might as well leave the\n    // computation alone!\n    if (!refs.computation) {\n      // Render is committed, but we no longer have a computation. Invoke\n      // forceUpdate and let the next render recreate the computation.\n      if (!skipUpdate) {\n        forceUpdate();\n      } else {\n        Tracker.nonreactive(() => Tracker.autorun((c: Tracker.Computation) => {\n          const data = reactiveFn(c);\n          refs.computation = c;\n          if (!skipUpdate(refs.trackerData, data)) {\n            // For any reactive change, forceUpdate and let the next render rebuild the computation.\n            forceUpdate();\n          }\n        }));\n      }\n    }\n\n    // stop the computation on unmount\n    return () =>{\n      refs.computation?.stop();\n      delete refs.computation;\n      refs.isMounted = false;\n    }\n  }, []);\n\n  return refs.trackerData;\n}\n\nconst useTrackerWithDeps = <T = any>(reactiveFn: IReactiveFn<T>, deps: DependencyList, skipUpdate: ISkipUpdate<T> = null): T => {\n  const forceUpdate = useForceUpdate();\n\n  const { current: refs } = useRef<{\n    reactiveFn: IReactiveFn<T>;\n    data?: T;\n    comp?: Tracker.Computation;\n    isMounted?: boolean;\n  }>({ reactiveFn });\n\n  // keep reactiveFn ref fresh\n  refs.reactiveFn = reactiveFn;\n\n  useMemo(() => {\n    // To jive with the lifecycle interplay between Tracker/Subscribe, run the\n    // reactive function in a computation, then stop it, to force flush cycle.\n    const comp = Tracker.nonreactive(\n      () => Tracker.autorun((c: Tracker.Computation) => {\n        const data = refs.reactiveFn();\n        if (c.firstRun) {\n          refs.data = data;\n        } else if (!skipUpdate || !skipUpdate(refs.data, data)) {\n          refs.data = data;\n          forceUpdate();\n        }\n      })\n    );\n    // In some cases, the useEffect hook will run before Meteor.defer, such as\n    // when React.lazy is used. This will allow it to be stopped earlier in\n    // useEffect if needed.\n    refs.comp = comp;\n    // To avoid creating side effects in render, stop the computation immediately\n    Meteor.defer(() => {\n      if (!refs.isMounted && refs.comp) {\n        refs.comp.stop();\n        delete refs.comp;\n      }\n    });\n  }, deps);\n\n  useEffect(() => {\n    // Let subsequent renders know we are mounted (render is committed).\n    refs.isMounted = true;\n\n    if (!refs.comp) {\n      refs.comp = Tracker.nonreactive(\n        () => Tracker.autorun((c) => {\n          const data: T = refs.reactiveFn(c);\n          if (!skipUpdate || !skipUpdate(refs.data, data)) {\n            refs.data = data;\n            forceUpdate();\n          }\n        })\n      );\n    }\n\n    return () => {\n      refs.comp.stop();\n      delete refs.comp;\n      refs.isMounted = false;\n    };\n  }, deps);\n\n  return refs.data as T;\n};\n\nfunction useTrackerClient <T = any>(reactiveFn: IReactiveFn<T>, skipUpdate?: ISkipUpdate<T>): T;\nfunction useTrackerClient <T = any>(reactiveFn: IReactiveFn<T>, deps?: DependencyList, skipUpdate?: ISkipUpdate<T>): T;\nfunction useTrackerClient <T = any>(reactiveFn: IReactiveFn<T>, deps: DependencyList | ISkipUpdate<T> = null, skipUpdate: ISkipUpdate<T> = null): T {\n  if (deps === null || deps === undefined || !Array.isArray(deps)) {\n    if (typeof deps === \"function\") {\n      skipUpdate = deps;\n    }\n    return useTrackerNoDeps(reactiveFn, skipUpdate);\n  } else {\n    return useTrackerWithDeps(reactiveFn, deps, skipUpdate);\n  }\n}\n\nconst useTrackerServer: typeof useTrackerClient = (reactiveFn) => {\n  return Tracker.nonreactive(reactiveFn);\n}\n\n// When rendering on the server, we don't want to use the Tracker.\n// We only do the first rendering on the server so we can get the data right away\nconst useTracker = Meteor.isServer\n  ? useTrackerServer\n  : useTrackerClient;\n\nfunction useTrackerDev (reactiveFn, deps = null, skipUpdate = null) {\n  function warn (expects: string, pos: string, arg: string, type: string) {\n    console.warn(\n      `Warning: useTracker expected a ${expects} in it\\'s ${pos} argument `\n        + `(${arg}), but got type of \\`${type}\\`.`\n    );\n  }\n\n  if (typeof reactiveFn !== 'function') {\n    warn(\"function\", \"1st\", \"reactiveFn\", reactiveFn);\n  }\n\n  if (deps && skipUpdate && !Array.isArray(deps) && typeof skipUpdate === \"function\") {\n    warn(\"array & function\", \"2nd and 3rd\", \"deps, skipUpdate\",\n      `${typeof deps} & ${typeof skipUpdate}`);\n  } else {\n    if (deps && !Array.isArray(deps) && typeof deps !== \"function\") {\n      warn(\"array or function\", \"2nd\", \"deps or skipUpdate\", typeof deps);\n    }\n    if (skipUpdate && typeof skipUpdate !== \"function\") {\n      warn(\"function\", \"3rd\", \"skipUpdate\", typeof skipUpdate);\n    }\n  }\n\n  const data = useTracker(reactiveFn, deps, skipUpdate);\n  checkCursor(data);\n  return data;\n}\n\nexport default Meteor.isDevelopment\n  ? useTrackerDev as typeof useTrackerClient\n  : useTracker;\n","import React, { forwardRef, memo } from 'react';\nimport useTracker from './useTracker';\n\ntype ReactiveFn = (props: object) => any;\ntype ReactiveOptions = {\n  getMeteorData: ReactiveFn;\n  pure?: boolean;\n  skipUpdate?: (prev: any, next: any) => boolean;\n}\n\nexport default function withTracker(options: ReactiveFn | ReactiveOptions) {\n  return (Component: React.ComponentType) => {\n    const getMeteorData = typeof options === 'function'\n      ? options\n      : options.getMeteorData;\n\n    const WithTracker = forwardRef((props, ref) => {\n      const data = useTracker(\n        () => getMeteorData(props) || {},\n        (options as ReactiveOptions).skipUpdate\n      );\n      return (\n        <Component ref={ref} {...props} {...data} />\n      );\n    });\n\n    const { pure = true } = options as ReactiveOptions;\n    return pure ? memo(WithTracker) : WithTracker;\n  };\n}\n"]}}]